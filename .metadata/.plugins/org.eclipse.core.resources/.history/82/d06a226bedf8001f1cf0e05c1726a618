package com.korea.attendance.model;

import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;
import java.util.List;

@Getter
@Setter
@NoArgsConstructor
public class SurveyQuestion {
    private int questionId;
    private int surveyId;
    private String questionText;
    private String questionType;
    private List<String> options;
    private Integer minSelect;
    private Integer maxSelect;

    // ✅ 설문 생성 시 사용할 생성자
    public SurveyQuestion(int questionId, int surveyId, String questionText, String questionType, List<String> options, Integer minSelect, Integer maxSelect) {
        this.questionId = questionId;
        this.surveyId = surveyId;
        this.questionText = questionText;
        this.questionType = questionType;

        if (questionType.equals("radio") || questionType.equals("checkbox")) {
            this.options = options != null ? options : null; // 객관식만 옵션 저장
        } else {
            this.options = null; // 서술형은 옵션 없음
        }

        if (questionType.equals("checkbox")) {
            this.minSelect = minSelect;
            this.maxSelect = maxSelect;
        } else {
            this.minSelect = null; // 라디오/서술형은 min/max 필요 없음
            this.maxSelect = null;
        }
    }
}
